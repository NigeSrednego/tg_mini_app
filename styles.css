:root{
  /* Цвета */
  --bg1:#0f1433; --bg2:#1b1f4a; --bg3:#3b1d68;
  --glass:rgba(255,255,255,.08); --glass-strong:rgba(255,255,255,.12);
  --text:#e9ecf5; --muted:#b8bdd2;
  --accent:#9f8cff; --accent-2:#68b6ff;
  --border:rgba(255,255,255,.14);
  --shadow:0 8px 24px rgba(7,10,34,.45);
  --radius:16px;
  --wrap-max:480px;

  /* Высота таббара для отступов контента */
  --tabbar-h:64px;
}

/* База и фон с переливами */
html{
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Noto Sans","Helvetica Neue",sans-serif;
  font-size:clamp(14px,3.6vw,16px);
  color:var(--text);
  background:radial-gradient(120% 120% at 10% 0%, var(--bg3) 0%, var(--bg2) 35%, var(--bg1) 70%) fixed;
  min-height:100%;
}
body{
  margin:0;
  min-height:100dvh;
  background:
    radial-gradient(90rem 90rem at 120% -10%, rgba(159,140,255,.25) 0%, transparent 60%),
    radial-gradient(70rem 70rem at -20% 120%, rgba(104,182,255,.18) 0%, transparent 60%);
  backdrop-filter:saturate(1.05);
}

/* Каркас приложения: таббар фиксирован снизу, контент учитывает его высоту */
.app-container{
  min-height:100dvh;
  display:flex;
  flex-direction:column;
}
.content{
  flex:1;
  overflow:auto;
  padding-bottom:calc(var(--tabbar-h) + env(safe-area-inset-bottom) + 12px);
}

/* Лимитер ширины */
.wrap{ width:min(var(--wrap-max),100%); margin-inline:auto; padding:12px 14px; box-sizing:border-box; }
.wrap.no-pad{ padding-left:14px; padding-right:14px; }

/* Поиск */
.search-card{
  background:var(--glass);
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  border-radius:var(--radius);
  padding:10px;
  position:sticky; top:8px; z-index:10; backdrop-filter:blur(6px);
}
.search-row{ display:grid; grid-template-columns:1fr auto; gap:8px; align-items:center; }
.search-input{
  width:100%; font-size:1rem; color:var(--text);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid var(--border); border-radius:12px; padding:12px 14px; outline:none;
  transition:border-color .2s ease, box-shadow .2s ease;
}
.search-input::placeholder{ color:var(--muted); }
.search-input:focus{ border-color:color-mix(in oklab, var(--accent) 70%, white 0%); box-shadow:0 0 0 3px rgba(159,140,255,.15); }
.icon-btn{
  display:inline-grid; place-items:center; width:44px; height:44px; border-radius:12px;
  border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,.1), rgba(255,255,255,.03));
  color:var(--text); cursor:pointer;
  transition:transform .08s ease, background .2s ease, border-color .2s ease;
}
.icon-btn:hover{ background:var(--glass-strong); border-color:color-mix(in oklab, var(--accent-2) 40%, white 0%); }
.icon-btn:active{ transform:translateY(1px) scale(.99); }

/* Панели контента */
.panel{ margin-top:14px; background:var(--glass); border:1px solid var(--border);
  border-radius:var(--radius); box-shadow:var(--shadow); padding:14px; backdrop-filter:blur(6px); }
.panel h2{ margin:0 0 8px; font-size:1.05rem; color:#f2f4ff; letter-spacing:.2px; }
.muted{ color:var(--muted); }

/* Таб-контент */
.tab-content{ display:none; }
.tab-content.active{ display:block; }

/* Нижний таббар (фиксированный) */
.tabbar{
  position:fixed; left:0; bottom:0; width:100%;
  /* height:calc(var(--tabbar-h) + env(safe-area-inset-bottom)); */
  padding:8px 0 calc(8px + env(safe-area-inset-bottom));
  background:linear-gradient(180deg, rgba(15,20,51,.2), rgba(15,20,51,.55));
  backdrop-filter:blur(8px) saturate(1.1);
  border-top:1px solid var(--border);
  box-shadow:0 -2px 10px rgba(0,0,0,.25);
  z-index:999;
}
.tabs{ width:min(var(--wrap-max),100%); margin:0 auto; display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:0 14px; box-sizing:border-box; }
.tab-btn{
  appearance:none; border:1px solid var(--border); border-radius:14px; padding:12px 10px;
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  color:var(--text); font-weight:700; letter-spacing:.2px; cursor:pointer;
  transition:border-color .2s ease, box-shadow .2s ease, background .2s ease, transform .06s ease;
}
.tab-btn:hover{ border-color:color-mix(in oklab, var(--accent-2) 40%, white 0%); }
.tab-btn:active{ transform:translateY(1px); }
.tab-btn.active{
  background:linear-gradient(135deg, rgba(159,140,255,.35), rgba(104,182,255,.28));
  border-color:color-mix(in oklab, var(--accent) 50%, var(--accent-2) 50%);
  box-shadow:0 4px 16px rgba(159,140,255,.25);
}

/* Узкие экраны */
@media (max-width: 349px){
  .icon-btn{ width:40px; height:40px; }
  .search-input{ padding:10px 12px; }
  .tab-btn{ padding:10px 8px; }
}
